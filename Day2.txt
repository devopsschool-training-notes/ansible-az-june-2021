What is the PRB?
============================
ansible web -i inventory -m yum -a "name=httpd state=installed" -u centos --key-file=node.pem -b
ansible web -i inventory -m copy -a "src=index.html dest=/var/www/html/index.html"  -u centos --key-file=node.pem -b
ansible web -i inventory -m service -a "name=httpd state=started"  -u centos --key-file=node.pem -b
ansible web -i inventory -m yum -a "name=httpd state=installed" -u centos --key-file=node.pem -b
ansible web -i inventory -m copy -a "src=index.html dest=/var/www/html/index.html"  -u centos --key-file=node.pem -b
ansible web -i inventory -m service -a "name=httpd state=started"  -u centos --key-file=node.pem -b
ansible web -i inventory -m yum -a "name=httpd state=installed" -u centos --key-file=node.pem -b
ansible web -i inventory -m copy -a "src=index.html dest=/var/www/html/index.html"  -u centos --key-file=node.pem -b
ansible web -i inventory -m service -a "name=httpd state=started"  -u centos --key-file=node.pem -b
ansible web -i inventory -m yum -a "name=httpd state=installed" -u centos --key-file=node.pem -b
ansible web -i inventory -m copy -a "src=index.html dest=/var/www/html/index.html"  -u centos --key-file=node.pem -b
ansible web -i inventory -m service -a "name=httpd state=started"  -u centos --key-file=node.pem -bansible
ansible web -i inventory -m yum -a "name=httpd state=installed" -u centos --key-file=node.pem -b
ansible web -i inventory -m copy -a "src=index.html dest=/var/www/html/index.html"  -u centos --key-file=node.pem -b
ansible web -i inventory -m service -a "name=httpd state=started"  -u centos --key-file=node.pem -b
ansible web -i inventory -m yum -a "name=httpd state=installed" -u centos --key-file=node.pem -b
ansible web -i inventory -m copy -a "src=index.html dest=/var/www/html/index.html"  -u centos --key-file=node.pem -b
ansible web -i inventory -m service -a "name=httpd state=started"  -u centos --key-file=node.pem -b
ansible web -i inventory -m yum -a "name=httpd state=installed" -u centos --key-file=node.pem -b
ansible web -i inventory -m copy -a "src=index.html dest=/var/www/html/index.html"  -u centos --key-file=node.pem -b
ansible web -i inventory -m service -a "name=httpd state=started"  -u centos --key-file=node.pem -b
ansible web -i inventory -m yum -a "name=httpd state=installed" -u centos --key-file=node.pem -b
ansible web -i inventory -m copy -a "src=index.html dest=/var/www/html/index.html"  -u centos --key-file=node.pem -b
ansible web -i inventory -m service -a "name=httpd state=started"  -u centos --key-file=node.pem -b
ansible web -i inventory -m yum -a "name=httpd state=installed" -u centos --key-file=node.pem -b
ansible web -i inventory -m copy -a "src=index.html dest=/var/www/html/index.html"  -u centos --key-file=node.pem -b
ansible web -i inventory -m service -a "name=httpd state=started"  -u centos --key-file=node.pem -b

SHELL SCRIPT
 - variables
 - conditioning 
 - looping
 - template config work
 - Handlers
 ========================================================================
 
 Solution - Playbook
 ------------------------------------------
 What is Playbook?
 - YAML FILE
 - Collection of PLAY
 
 What is PLAY?
 
 Hosts: all OR <Custom Group>
 Tasks: List of Module with its param
		- module & param
		- module & param
		- module & param
		- module & param
 -----------------PLAYBOOK---------------------------
 
 Hosts: all OR <Custom Group>
 Tasks: List of Module with its param
		- module & param
		- module & param
		- module & param
		- module & param
		
 Hosts: all OR <Custom Group>
 Tasks: List of Module with its param
		- module & param
		- module & param
		- module & param
		- module & param 
		
 Hosts: all OR <Custom Group>
 Tasks: List of Module with its param
		- module & param
		- module & param
		- module & param
		- module & param

 Hosts: all OR <Custom Group>
 Tasks: List of Module with its param
		- module & param
		- module & param
		- module & param
		- module & param		
 =============================================================
ansible web -i inventory -m yum -a "name=httpd state=installed" -u centos --key-file=node.pem -b
ansible web -i inventory -m copy -a "src=index.html dest=/var/www/html/index.html"  -u centos --key-file=node.pem -b
ansible web -i inventory -m service -a "name=httpd state=started"  -u centos --key-file=node.pem -b
 
 ---
  Hosts: all OR <Custom Group>
 Tasks: List of Module with its param
		- module & param
		- module & param
		- module & param
		- module & param
...

---		
 Hosts: all OR <Custom Group>
 Tasks: List of Module with its param
		- module & param
		- module & param
		- module & param
		- module & param
 ...
 
 
 ==========================================================
 
---
- name: Update web servers
  hosts: web

  tasks:
  - name: Install Apache in centos7
    ansible.builtin.yum:
      name: httpd
      state: latest
  - name: Copy index.html
    ansible.builtin.copy:
      src: index.html
      dest: /var/www/html/index.html
  - name: Starting a Apache Server
    ansible.builtin.service:
      name: httpd
      state: started  
 
Basic workflow of PLAYBOOK---------------------------====
==================================================
Step 1- Write a Yaml file

Step 2 - Check a Syntax 

[azureuser@master rajesh]$ ansible-playbook --syntax-check web.yaml
[WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match
'all'
[WARNING]: Could not match supplied host pattern, ignoring: web

playbook: web.yaml
[azureuser@master rajesh]$ ansible-playbook --syntax-check web.yaml -i inventory

playbook: web.yaml
[azureuser@master rajesh]$


Step 3 - DRY run
ansible-playbook -C web.yaml -i inventory -u azureuser -k -b

Step 4 - run 
ansible-playbook web.yaml -i inventory -u azureuser -k -b 
ansible-playbook localhost web.yaml 
 
 
 
 
Assignment 
- https://www.devopsschool.com/blog/ansible-playbook-lab-excercise-part-2/
 
 
 
 
